<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>QueueLoader</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><link rel="stylesheet" type="text/css" href="../css/VisDoc.css" /><script src="../js/behaviour.js" type="text/javascript">//</script><script src="../js/common.js" type="text/javascript">//</script><script src="../js/doc.js" type="text/javascript">//</script></head><body id="page_com_hydrotik_utils_QueueLoader"><script type="text/javascript">VisDoc.initBody();</script><div id="PageTop"><!----></div><div class="VisDoc"><div class="content"><div class="docNav"><ul><li><div id="toggleTOC_on" class="toggleTrigger toggleMakeVisible activeWhenNotFramed"><a href="#"><span class="icon">+</span>Show TOC</a></div><script type="text/javascript">twiki.ui.Toggle.getInstance().init("toggleTOC_on");</script><div id="toggleTOC_off" class="toggleTrigger toggleMakeVisible activeWhenFramed"><a href="#"><span class="icon">&times;</span>Hide TOC</a></div><script type="text/javascript">twiki.ui.Toggle.getInstance().init("toggleTOC_off");</script></li></ul><ul class="accessKeyLinks"><li><a href="#PageTop" accesskey="t"><span class="accessKey">T</span>op</a></li><li><a href="#Summary" accesskey="s"><span class="accessKey">S</span>ummary</a></li><li><a href="#Constructor" accesskey="c"><span class="accessKey">C</span>onstructors</a></li><li><a href="#Instanceproperties" accesskey="l">Instance <span class="accessKey">p</span>roperties</a></li><li><a href="#Instancemethods" accesskey="m">Instance <span class="accessKey">m</span>ethods</a></li></ul></div><div class="clearfix"><!----></div><h1>QueueLoader</h1><div class="classProperties"><table cellspacing="0"><tr><th align="left">Kind of class:</th><td>public class</td></tr><tr><th align="left">Package:</th><td><a class="className" href="package-com_hydrotik_utils.html">com.hydrotik.utils</a></td></tr><tr><th align="left">Inherits from:</th><td>none</td></tr><tr><th align="left">Implements:</th><td><ul><li>IEventDispatcher</li></ul></td></tr><tr><th class="classDetails" align="left">Classpath:</th><td class="classDetails">com.hydrotik.utils.QueueLoader</td></tr><tr><th class="classDetails" align="left">File last modified:</th><td class="classDetails">Saturday, 10 November 2007, 19:46:04</td></tr></table></div><div class="summary"><h2 id="Summary">Summary</h2><div class="memberList"><div class="memberSummaryPart"><span class="title">Constructor</span><ul><li><a href="#QueueLoader">QueueLoader</a></li></ul></div><div class="memberSummaryPart"><span class="title">Constants</span><ul><li><a href="#VERSION">VERSION</a></li><li><a href="#AUTHOR">AUTHOR</a></li><li><a href="#FILE_IMAGE">FILE_IMAGE</a></li><li><a href="#FILE_SWF">FILE_SWF</a></li><li><a href="#FILE_AUDIO">FILE_AUDIO</a></li><li><a href="#FILE_CSS">FILE_CSS</a></li><li><a href="#FILE_XML">FILE_XML</a></li></ul></div><div class="memberSummaryPart"><span class="title">Instance methods</span><ul><li><a href="#addItem">addItem</a></li><li><a href="#addItemAt">addItemAt</a></li><li><a href="#removeItemAt">removeItemAt</a></li><li><a href="#sort">sort</a></li><li><a href="#execute">execute</a></li><li><a href="#stop">stop</a></li><li><a href="#dispose">dispose</a></li><li><a href="#addEventListener">addEventListener</a></li><li><a href="#dispatchEvent">dispatchEvent</a></li><li><a href="#hasEventListener">hasEventListener</a></li><li><a href="#removeEventListener">removeEventListener</a></li><li><a href="#willTrigger">willTrigger</a></li></ul></div></div></div><div class="memberSection"><h2 id="Constructor">Constructor</h2><div class="member" id="QueueLoader"><h3>QueueLoader</h3><div class="fullMemberString"><div class="clearfix floatholder"><div class="floatbox code"><span class="memberAccess">public</span> function <b>QueueLoader</b> (

</div><div><span class="code">ignoreErrors:Boolean = false,
loaderContext:LoaderContext = null)</span></div></div></div><div class="description">QueueLoader AS 3<br />QueueLoader is a linear asset loading tool with progress monitoring. It's largely used to load a sequence of images or a set of external assets in one step. Please contact me if you make updates or enhancements to this file. If you use QueueLoader, I'd love to hear about it. Special thanks to Felix Raab for the original AS2 version! Please contact me if you find any errors or bugs in the class or documentation.</div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Author:</span><div class="item">Donovan Adams, E-Mail: donovan[(at)]hydrotik.com, url: <a href="http://www.hydrotik.com/">http://www.hydrotik.com/</a><br />Based on Felix Raab's QueueLoader for AS2, E-Mail: f.raab[(at)]betriebsraum.de, url: <a href="http://www.betriebsraum.de">http://www.betriebsraum.de</a></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item">3.0.8</div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">To do:</span><div class="item">HTTP error event processing<br />Convert targ to container for clarity<br />add FLV loading<br />Bandwidth checking?<br />add undefined target error dispatch</div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version history:</span><div class="item">03.08.2007 - 3.0 Initial port to AS3.0 (Donovan Adams)<br />03.16.2007 - 3.0.1 Added get method for data<br />08.10.2007 - 3.0.2 Rewrote data output using custom event QueueLoaderEvent class.<br />08.13.2007 - 3.0.3 Added QueueLoader progress and event.<br />08.14.2007 - 3.0.4 Added IO Error event.<br />09.10.2007 - 3.0.5 Fixed ITEM_INIT duped dispatching, changed item name to title to match custom event<br />09.14.2007 - 3.0.6 Added External mp3 and filetype cheking as well as direct access to file for easier swf access<br />10.29.2007 - 3.0.7 Added LoaderContext for accessing loaded class references/Added stopping of loading/Loader unloading of memory for Garbage Collection<br />10.29.2007 - 3.0.8 Added CSS/XML filetype, Optimized Loader, removeItemAt</div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item">This example shows how to use QueueLoader in a basic application:<pre>import com.hydrotik.utils.QueueLoader;
import com.hydrotik.utils.QueueLoaderEvent;


<span class="codeComment">//Instantiate the QueueLoader</span>
var _oLoader:QueueLoader = new QueueLoader();

<span class="codeComment">//Run a loop that loads 3 images from the flashassets/images/slideshow folder</span>
var image:Sprite = new Sprite();
addChild(image);
<span class="codeComment">//Add a load item to the loader</span>
_oLoader.addItem(prefix(<span class="codeString">"") + "</span>flashassets/images/slideshow/<span class="codeNumber">1</span>.jpg<span class="codeString">", image, {title:"</span>Image"});

<span class="codeComment">//Add event listeners to the loader</span>
_oLoader.addEventListener(QueueLoaderEvent.QUEUE_START, onQueueStart, false, <span class="codeNumber">0</span>, true);
_oLoader.addEventListener(QueueLoaderEvent.ITEM_START, onItemStart, false, <span class="codeNumber">0</span>, true);
_oLoader.addEventListener(QueueLoaderEvent.ITEM_PROGRESS, onItemProgress, false, <span class="codeNumber">0</span>, true);
_oLoader.addEventListener(QueueLoaderEvent.ITEM_INIT, onItemInit,false, <span class="codeNumber">0</span>, true);
_oLoader.addEventListener(QueueLoaderEvent.ITEM_ERROR, onItemError,false, <span class="codeNumber">0</span>, true);
_oLoader.addEventListener(QueueLoaderEvent.QUEUE_PROGRESS, onQueueProgress, false, <span class="codeNumber">0</span>, true);
_oLoader.addEventListener(QueueLoaderEvent.QUEUE_INIT, onQueueInit,false, <span class="codeNumber">0</span>, true);

<span class="codeComment">//Run the loader</span>
_oLoader.execute();

<span class="codeComment">//Listener functions</span>
function onQueueStart(event:QueueLoaderEvent):void {
    trace("&#62;&#62; <span class="codeString">"+event.type);
}

function onItemStart(event:QueueLoaderEvent):void {
    trace("</span>\t&#62;&#62; <span class="codeString">"+event.type, "</span>item title: <span class="codeString">"+event.title);
}

function onItemProgress(event:QueueLoaderEvent):void {
    trace("</span>\t&#62;&#62; <span class="codeString">"+event.type+"</span>: <span class="codeString">"+["</span> percentage: <span class="codeString">"+event.percentage]);
}

function onQueueProgress(event:QueueLoaderEvent):void {
    trace("</span>\t&#62;&#62; <span class="codeString">"+event.type+"</span>: <span class="codeString">"+["</span> queuepercentage: <span class="codeString">"+event.queuepercentage]);
}

function onItemInit(event:QueueLoaderEvent):void {
    trace("</span>\t&#62;&#62; name: <span class="codeString">"+event.title + "</span> event:<span class="codeString">" + event.type+"</span> - <span class="codeString">"+["</span>target: <span class="codeString">"+event.targ, "</span>w: <span class="codeString">"+event.width, "</span>h: <span class="codeString">"+event.height]+"</span>&#92;n<span class="codeString">");
}

function onItemError(event:QueueLoaderEvent):void {
    trace("</span>&#92;n&#62;&#62;<span class="codeString">"+event.message+"</span>&#92;n<span class="codeString">");
}

function onQueueInit(event:QueueLoaderEvent):void {
    trace("</span>** "+event.type);
}</pre></div></div></div></div></div></div><div class="memberSection"><h2 id="Constants">Constants</h2><div class="member" id="AUTHOR"><h3>AUTHOR</h3><div class="fullMemberString"><div class="clearfix floatholder"><div class="floatbox code"><span class="memberAccess">public static const</span> <b>AUTHOR</b>:String = <span class="codeString">"Donovan Adams - donovan[(at)]hydrotik.com based on as2 version by Felix Raab - f.raab[(at)]betriebsraum.de"</span>
</div><div><span class="access">(read,write)</span></div></div></div></div><div class="member" id="FILE_AUDIO"><h3>FILE_AUDIO</h3><div class="fullMemberString"><div class="clearfix floatholder"><div class="floatbox code"><span class="memberAccess">public static const</span> <b>FILE_AUDIO</b>:int = <span class="codeNumber">3</span>
</div><div><span class="access">(read,write)</span></div></div></div></div><div class="member" id="FILE_CSS"><h3>FILE_CSS</h3><div class="fullMemberString"><div class="clearfix floatholder"><div class="floatbox code"><span class="memberAccess">public static const</span> <b>FILE_CSS</b>:int = <span class="codeNumber">4</span>
</div><div><span class="access">(read,write)</span></div></div></div></div><div class="member" id="FILE_IMAGE"><h3>FILE_IMAGE</h3><div class="fullMemberString"><div class="clearfix floatholder"><div class="floatbox code"><span class="memberAccess">public static const</span> <b>FILE_IMAGE</b>:int = <span class="codeNumber">1</span>
</div><div><span class="access">(read,write)</span></div></div></div></div><div class="member" id="FILE_SWF"><h3>FILE_SWF</h3><div class="fullMemberString"><div class="clearfix floatholder"><div class="floatbox code"><span class="memberAccess">public static const</span> <b>FILE_SWF</b>:int = <span class="codeNumber">2</span>
</div><div><span class="access">(read,write)</span></div></div></div></div><div class="member" id="FILE_XML"><h3>FILE_XML</h3><div class="fullMemberString"><div class="clearfix floatholder"><div class="floatbox code"><span class="memberAccess">public static const</span> <b>FILE_XML</b>:int = <span class="codeNumber">5</span>
</div><div><span class="access">(read,write)</span></div></div></div></div><div class="member" id="VERSION"><h3>VERSION</h3><div class="fullMemberString"><div class="clearfix floatholder"><div class="floatbox code"><span class="memberAccess">public static const</span> <b>VERSION</b>:String = <span class="codeString">"QueueLoader 3.0.8"</span>
</div><div><span class="access">(read,write)</span></div></div></div></div></div><div class="memberSection"><h2 id="Instancemethods">Instance methods</h2><div class="member" id="addEventListener"><h3>addEventListener</h3><div class="fullMemberString"><div class="clearfix floatholder"><div class="floatbox code"><span class="memberAccess">public</span> function <b>addEventListener</b> (




</div><div><span class="code">type:String,
listener:Function,
useCapture:Boolean = false,
priority:int = 0,
useWeakReference:Boolean = true) : void</span></div></div></div></div><div class="member" id="addItem"><h3>addItem</h3><div class="fullMemberString"><div class="clearfix floatholder"><div class="floatbox code"><span class="memberAccess">public</span> function <b>addItem</b> (


</div><div><span class="code">url:String,
targ = *,
info:Object) : void</span></div></div></div><div class="description">Adds an item to the loading queue</div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">url <span class="itemSeparator">:</span></div><div>String - asset file path</div></div><div class="item"><div class="floatbox code colorizedCode">targ<span class="itemSeparator">:</span></div><div>- target location</div></div><div class="item"><div class="floatbox code colorizedCode">info<span class="itemSeparator">:</span></div><div>Object - data</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item">void</div></div></div></div></div><div class="member" id="addItemAt"><h3>addItemAt</h3><div class="fullMemberString"><div class="clearfix floatholder"><div class="floatbox code"><span class="memberAccess">public</span> function <b>addItemAt</b> (



</div><div><span class="code">index:Number,
url:String,
targ = *,
info:Object) : void</span></div></div></div><div class="description">Adds an item to the loading queue at a specific position</div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">index<span class="itemSeparator">:</span></div><div>Number - insertion index</div></div><div class="item"><div class="floatbox code colorizedCode">url  <span class="itemSeparator">:</span></div><div>String - asset file path</div></div><div class="item"><div class="floatbox code colorizedCode">targ <span class="itemSeparator">:</span></div><div>- target location</div></div><div class="item"><div class="floatbox code colorizedCode">info <span class="itemSeparator">:</span></div><div>Object - data to be stored and retrieved later</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item">void</div></div></div></div></div><div class="member" id="dispatchEvent"><h3>dispatchEvent</h3><div class="fullMemberString"><div class="clearfix floatholder"><div class="floatbox code"><span class="memberAccess">public</span> function <b>dispatchEvent</b> (
</div><div><span class="code">evt:Event) : Boolean</span></div></div></div></div><div class="member" id="dispose"><h3>dispose</h3><div class="fullMemberString"><div class="clearfix floatholder"><div class="floatbox code"><span class="memberAccess">public</span> function <b>dispose</b> (
</div><div><span class="code">) : void</span></div></div></div><div class="description">Removes Items Loaded from memory for Garbage Collection</div></div><div class="member" id="execute"><h3>execute</h3><div class="fullMemberString"><div class="clearfix floatholder"><div class="floatbox code"><span class="memberAccess">public</span> function <b>execute</b> (
</div><div><span class="code">) : void</span></div></div></div><div class="description">Executes the loading sequence</div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item">void</div></div></div></div></div><div class="member" id="hasEventListener"><h3>hasEventListener</h3><div class="fullMemberString"><div class="clearfix floatholder"><div class="floatbox code"><span class="memberAccess">public</span> function <b>hasEventListener</b> (
</div><div><span class="code">type:String) : Boolean</span></div></div></div></div><div class="member" id="removeEventListener"><h3>removeEventListener</h3><div class="fullMemberString"><div class="clearfix floatholder"><div class="floatbox code"><span class="memberAccess">public</span> function <b>removeEventListener</b> (


</div><div><span class="code">type:String,
listener:Function,
useCapture:Boolean = false) : void</span></div></div></div></div><div class="member" id="removeItemAt"><h3>removeItemAt</h3><div class="fullMemberString"><div class="clearfix floatholder"><div class="floatbox code"><span class="memberAccess">public</span> function <b>removeItemAt</b> (
</div><div><span class="code">index:Number) : void</span></div></div></div><div class="description">Removes an item to the loading queue at a specific position</div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">index<span class="itemSeparator">:</span></div><div>Number - removal index</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item">void</div></div></div></div></div><div class="member" id="sort"><h3>sort</h3><div class="fullMemberString"><div class="clearfix floatholder"><div class="floatbox code"><span class="memberAccess">public</span> function <b>sort</b> (
</div><div><span class="code">) : void</span></div></div></div><div class="description">allows input of a sort function for sorting the array see Array.sort();</div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">index<span class="itemSeparator">:</span></div><div>Number - removal index</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item">void</div></div></div></div></div><div class="member" id="stop"><h3>stop</h3><div class="fullMemberString"><div class="clearfix floatholder"><div class="floatbox code"><span class="memberAccess">public</span> function <b>stop</b> (
</div><div><span class="code">) : void</span></div></div></div><div class="description">Stops Loading</div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item">void</div></div></div></div></div><div class="member" id="willTrigger"><h3>willTrigger</h3><div class="fullMemberString"><div class="clearfix floatholder"><div class="floatbox code"><span class="memberAccess">public</span> function <b>willTrigger</b> (
</div><div><span class="code">type:String) : Boolean</span></div></div></div></div></div><div class="footer"><ul class="docFooter"></ul></div></div></div></body></html>